<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="style/style.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>CS Tutoring</title>
</head>

<body>
    <!-- NAV BAR -->
    <nav>
        <ul id="navbar" class="nav justify-content-center">
            <li class="nav-item">
                <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="resources.html">Resources</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="#">Schedule</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="links.html">Links</a>
            </li>
        </ul>
    </nav>

    <!-- LANDING -->
    <div class="container-fluid landing">
        <div class="row">
            <div class="col-12">
                <div class="landing-content">
                    <h1>WKU CS TUTORING</h1>
                </div>
            </div>
        </div>
    </div>
    <!-- FIRST SECTION -->
    <div class="container">
        <div class="row">

        </div>
    </div>
    <!-- RESOURCES -->
    <div class="container container-padding">
        <div class="row">
            <div class="col-12">
                <h2>Schedule</h2>
            </div>
        </div>
        <div class="row content-padding">
            <div class="col-12">
                <input id="datepicker" width="276" />
            </div>
        </div>

        <div id="test"></div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>

    <script src="scripts/datepicker.js" type="text/javascript"></script>
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    
    <style>
        .selected {
            color: #b01e24 !important;
        }
    </style>

    <script>
        var first = (new Date().getMonth() + 1) + '/' + (new Date().getDate() > 9 || new Date().getDate() == 0 ? new Date().getDate() : '0' + new Date().getDate()) + '/' + new Date().getFullYear();
        $('#datepicker').datepicker({
            uiLibrary: 'bootstrap4',
            value: first,
            minDate: new Date(2019, 11, 1),
            maxDate: new Date(2019, 11, 31),
            callback: call,
        });

        var sessions = {
            '12/02/2019': [{
                name: 'John Doe',
                time: '1:00pm - 4:00pm',
                location: 'IEB 301'
            },
            {
                name: 'John Smith',
                time: '11:30am - 2:30pm',
                location: 'IEB 301'
            }
        ]
        };

        var last = '';
        call(first);

        function call(data) {
            if (last == data) {
                return;
            }

            var elem = document.getElementById('test');
            var list = document.getElementById('list');
            if (list) {
                list.remove();
            }

            list = document.createElement('div');
            list.id = 'list';
            elem.appendChild(list);

            const session = sessions[data];
            if (session) {
                for (let i = 0; i < session.length; i++) {
                    var to_insert = document.createElement("div");

                    to_insert.classList.add('col-4');
                    to_insert.style.backgroundColor = '#b01e24';
                    to_insert.style.color = 'white';
                    to_insert.style.marginBottom = '10px';
                    to_insert.style.paddingTop = '10px';
                    to_insert.style.paddingBottom = '10px';
                    to_insert.innerHTML = `${session[i].name}<br>${session[i].location}<br>${session[i].time}`;

                    list.appendChild(to_insert);
                }
            } else {
                var to_insert = document.createElement("div");

                to_insert.innerHTML = 'Nothing scheduled today!';

                list.appendChild(to_insert);
            }

            last = data;
        }
    </script>
</body>

</html>